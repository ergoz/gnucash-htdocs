<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>D.1. Check Format Files (*.chk)</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="GnuCash Tutorial and Concepts Guide"><link rel="up" href="appendixd.html" title="Appendix D. Auxiliary File Formats"><link rel="prev" href="appendixd.html" title="Appendix D. Auxiliary File Formats"><link rel="next" href="fdl.html" title="Appendix E. GNU Free Documentation License"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">D.1. Check Format Files (<code xmlns="" class="filename">*.chk</code>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="appendixd.html">&lt;&lt;&lt; Prev</a> </td><th width="60%" align="center">Appendix D. Auxiliary File Formats</th><td width="20%" align="right"> <a accesskey="n" href="fdl.html">Next &gt;&gt;&gt;</a></td></tr></table><hr></hr></div><div class="sect1" title="D.1. Check Format Files (*.chk)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="check_format_info"></a>D.1. Check Format Files (<code class="filename">*.chk</code>)</h2></div></div></div><div class="sect2" title="D.1.1. Overview"><div class="titlepage"><div><div><h3 class="title"><a name="check_format_overview"></a>D.1.1. Overview</h3></div></div></div><p>The check format file is used to tell <strong class="application"><code>GnuCash</code></strong> how to print a check or checks onto a page of paper.  This file first describes the overall layout of a page (number of checks, orientation, etc) and then describes the layout of the specific items on a single check.  The file is organized as a typical Key/Value file used by many Linux applications.  Keys/values pairs are grouped into sections that begin with the group name enclosed in square brackets.</p><p><strong class="application"><code>GnuCash</code></strong> looks for check format files in two different locations when you bring up the check printing dialog.  The first location is typically <code class="filename">/usr/share/gnucash/checks</code>, where check files distributed with the application can be found.  The second location is the user private <code class="filename">~/.gnucash/checks</code> directory.  Users may add check formats at any time (even while <strong class="application"><code>GnuCash</code></strong> is running) simply by dropping a new <code class="filename">*.chk</code> file in this directory.  The next time the check printing dialog is opened the new check format will appear in the list of available check formats.</p><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">Printing functions differently depending on the version of GTK that is installed on your system.  When <strong class="application"><code>GnuCash</code></strong> is using a version of GTK prior to 2.10 all offsets are measured from the lower left corner of the page or check.  When using GTK 2.10 or later, all offsets are measured from the upper left corner of the page or check.</p></td></tr></table></div></div><div class="sect2" title="D.1.2. Example file"><div class="titlepage"><div><div><h3 class="title"><a name="idp64229216"></a>D.1.2. Example file</h3></div></div></div><p>A typical <strong class="application"><code>GnuCash</code></strong> check file is presented below.  The contents of this file will be described in the next sections.</p><pre class="programlisting">
[Top]
Guid = 67b144d1-96a5-48d5-9337-0e1083bbf229
Title = Quicken/QuickBooks (tm) US-Letter
Rotation = 0.0
Translation = 0.0;4.0
Show_Grid = false
Show_Boxes = false

[Check Positions]
Height = 252.0
Names = Top;Middle;Bottom

[Check Items]
Type_1 = PAYEE
Coords_1 = 90.0;102.0;400.0;20.0

Type_2 = AMOUNT_WORDS
Coords_2 = 90.0;132.0

Type_3 = AMOUNT_NUMBER
Blocking_Chars_3 = true
Coords_3 = 500.0;102.0

Type_4 = DATE
Coords_4 = 500.0;67.0

Type_5 = NOTES
Coords_5 = 50.0;212.0
        </pre></div><div class="sect2" title="D.1.3. Field Descriptions"><div class="titlepage"><div><div><h3 class="title"><a name="idp64232400"></a>D.1.3. Field Descriptions</h3></div></div></div><div class="sect3" title="D.1.3.1. Top Group"><div class="titlepage"><div><div><h4 class="title"><a name="idp64233072"></a>D.1.3.1. Top Group</h4></div></div></div><p>This section of the check file describes the overall layout of a page of checks (or check) that goes into the printer.</p><div class="table"><a name="check_table_top"></a><p class="title"><b>Table D.1. Overall Page Description Fields</b></p><div class="table-contents"><table summary="Overall Page Description Fields" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Guid</td><td>string</td><td>mandatory</td><td>The guid is used to uniquely identify a check format to <strong class="application"><code>GnuCash</code></strong>.  It must be unique across the entire set of application supplied and user supplied check formats.  If you copy an application check file as the basis of your own check format, you must change this value.  The <span class="emphasis"><strong>uuidgen</strong></span> program may be used to generate these identifiers.</td></tr><tr><td>Title</td><td>string</td><td>mandatory</td><td>The title is used to uniquely identify a check format to the user.  This value is presented verbatim in the check format list of the check printing dialog.  If you copy an application check file as the basis of your own check format, you should change this value.  The title may be any utf-8 string.</td></tr><tr><td>Font</td><td>string</td><td>optional</td><td>If supplied, this is the default font used to print all text items on this check.  This field can contain any string that is acceptable by gtk as a font specifier.  If this field is omitted, the default font is the font specified in the <strong class="application"><code>GnuCash</code></strong> preferences dialog.  A typical string would be <span class="quote">“<span class="quote">sans 12</span>”</span>.</td></tr><tr><td>Blocking_Chars</td><td>boolean</td><td>optional</td><td>If supplied, this is the default used when printing all <span class="emphasis"><strong>TEXT</strong></span> items on this check.  When set to true, will print <span class="emphasis"><strong>***</strong></span> before and after each text field on the check.  Blocking characters are printed to protect check fields from alteration.  For example, the amount field may be printed as <span class="emphasis"><strong>***100.00***</strong></span></td></tr><tr><td>DateFormat</td><td>boolean</td><td>optional</td><td>If supplied, this is the default used when printing all <span class="emphasis"><strong>DATE</strong></span> items on this check.  When set to true, will print the format of the DATE in 8 point type, centered and below the actual DATE.  For example DDMMYYYY.</td></tr><tr><td>Rotation</td><td>double</td><td>optional</td><td>This value specified the rotation of the entire page (in degrees) around the origin point. For gtk versions prior to 2.10, the origin point is in the lower left corner of the page and rotation values increase in the counter-clockwise direction.  For gtk version 2.10 and later, the origin point is in the upper left corner of the page and rotation values increase in the clockwise direction. Rotation of the page is applied before translation.</td></tr><tr><td>Translation</td><td>list of 2 doubles</td><td>optional</td><td>These values specify the x and y translation of the entire page (in points) relative to the origin point. For gtk versions prior to 2.10, the origin point is in the lower left corner of the page and translation values increase moving up and to the right.  For gtk version 2.10 and later, the origin point is in the upper left corner of the page and translation values increase moving down and to the right. Rotation of the page is applied before translation.</td></tr><tr><td>Show_Grid</td><td>boolean</td><td>optional</td><td>If this value is set to <span class="emphasis"><strong>true</strong></span> then <strong class="application"><code>GnuCash</code></strong> will draw a grid on the page, starting at the origin with the lines spaced every 50 points. This can be helpful when creating a check format file.</td></tr><tr><td>Show_Boxes</td><td>boolean</td><td>optional</td><td>If this value is set to <span class="emphasis"><strong>true</strong></span> then for each item where the width and height have been specified, <strong class="application"><code>GnuCash</code></strong> will draw a box showing location and maximum size of that item . This can be helpful when creating a check format file.</td></tr></tbody></table></div></div><br class="table-break"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">The Blocking_Chars and DateFormat options are defined for all check formats in Edit-&gt;Preferences-&gt;Printing.  It is recommened that these global options be set to false (the default), and that the options be set for individual Check Items as described below.</p></td></tr></table></div></div><div class="sect3" title="D.1.3.2. Check Positions Group"><div class="titlepage"><div><div><h4 class="title"><a name="idp64267232"></a>D.1.3.2. Check Positions Group</h4></div></div></div><p>This group of items specifies how multiple checks are laid out on the same sheet of paper, and gives names to each of these check locations so that a user can specify which check location that <strong class="application"><code>GnuCash</code></strong> should print.  This entire group of key/value pairs is optional, and should be omitted if the format file only specifies a single check per page of paper.</p><div class="table"><a name="check_table_positions"></a><p class="title"><b>Table D.2. Multiple Checks Per Page Fields</b></p><div class="table-contents"><table summary="Multiple Checks Per Page Fields" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Height</td><td>double</td><td>mandatory</td><td>This field specifies the height of a single check on the page.  If there are multiple checks per page then this item is mandatory.  If there is only a single check per page, this entire section should be omitted.</td></tr><tr><td>Names</td><td>list of strings</td><td>mandatory</td><td>This field specifies the names of the check locations that can be printed on each page.  These names represent the check positions starting from the top of the page and moving downward.  The names are presented verbatim in the check position list of the check printing dialog.  A typical value for this field is "Top;Middle;Bottom", but it could also be "First;Second;Third" or any other set of strings that clearly identify the check locations.  If there are multiple checks per page then this item is mandatory.  If there is only a single check per page, this entire section should be omitted.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="sect3" title="D.1.3.3. Check Items Group"><div class="titlepage"><div><div><h4 class="title"><a name="idp64279040"></a>D.1.3.3. Check Items Group</h4></div></div></div><p>This section specifies the individual items that are printed on the check.  There is no limit to the number of items that may be present in this section, and any given type of item can be repeated multiple times.  This allows for the printing of checks that have a side stub, or for the one-per-page business checks that have both the check and multiple check stubs on the same page.  For example, to print the payee name on a business check and on both stubs, simply specify three payee items with differing print coordinates.</p><p>Each key names in this section explicitly includes the item number to which it applies.  E.G. The key named <span class="guilabel"><strong>Type_1</strong></span> applies to the first item to be printed, and the key <span class="guilabel"><strong>Coords_3</strong></span> applies to the third item to be printed.  Item numbers start at one and increase sequentially.  Any gap in the numbering sequence is interpreted by <strong class="application"><code>GnuCash</code></strong> as the end of the item list.  Items are printed in the order of their item numbers, not in the order in which they appear in the file.</p><p>Each item specified must include a type declaration.  The rest of the parameters for that item depend upon the particular type of that item.  See <a class="xref" href="check_format_info.html#check_table_types" title="Table D.4. Individual Check Item Types">Table D.4, “Individual Check Item Types”</a> for a list of valid item types and their required parameters.</p><div class="table"><a name="check_table_items"></a><p class="title"><b>Table D.3. Individual Check Item Fields</b></p><div class="table-contents"><table summary="Individual Check Item Fields" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Type_<span class="emphasis"><strong>n</strong></span></td><td>string</td><td>mandatory</td><td>This field specifies the type of a single item to be printed on a check.  See <a class="xref" href="check_format_info.html#check_table_types" title="Table D.4. Individual Check Item Types">Table D.4, “Individual Check Item Types”</a> for a list of valid item types.</td></tr><tr><td>Coords_<span class="emphasis"><strong>n</strong></span></td><td>list of 2 or 4 doubles</td><td>mandatory</td><td>This field specifies the coordinates where the item should be placed on a check, and optionally also specifies the width and height of the item.  The numbers in order are the X and Y offset of the lower left corner of the item, and optionally the width and height of the item.  If the width is supplied then the height must also be supplied, so this field will always contain two or four numbers.  For gtk versions prior to 2.10, the origin point is in the lower left corner of the page and translation values increase moving up and to the right.  For gtk version 2.10 and later, the origin point is in the upper left corner of the page and translation values increase moving down and to the right.<div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">Regardless of whether the origin is at the top or the bottom of the page, the coordinates always specify the lower left point of the item.</p></td></tr></table></div></td></tr><tr><td>Font_<span class="emphasis"><strong>n</strong></span></td><td>string</td><td>optional</td><td>If supplied, this is the font used to print this specific text item.  This field can contain any string that is acceptable by gtk as a font specifier.  If this field is omitted, the default font is the font specified in the <span class="emphasis"><strong>Top</strong></span> section of the check description file, or if that was omitted the font specified in the <strong class="application"><code>GnuCash</code></strong> preferences dialog.  This field is only recognized when using gtk version 2.10 or later.</td></tr><tr><td>Align_<span class="emphasis"><strong>n</strong></span></td><td>string</td><td>optional</td><td>If supplied, this is the alignment used to print this specific text item.  This field must contain one of the strings <span class="quote">“<span class="quote">left</span>”</span>, <span class="quote">“<span class="quote">center</span>”</span> or <span class="quote">“<span class="quote">right</span>”</span>.  If this field is omitted, the text will be left aligned.  This field is only recognized when using gtk version 2.10 or later.</td></tr><tr><td>Text_<span class="emphasis"><strong>n</strong></span></td><td>string</td><td>optional</td><td>This field is only used when the item type is <span class="emphasis"><strong>TEXT</strong></span>. It specifies the utf-8 text that should be printed on the check.</td></tr><tr><td>Filename_<span class="emphasis"><strong>n</strong></span></td><td>string</td><td>optional</td><td>This field is only used when the item type is <span class="emphasis"><strong>PICTURE</strong></span>. It specifies the filename of the image that should be printed on the check.  The string may specify either an absolute path name or as a relative path name.  If a relative path name is specified, <strong class="application"><code>GnuCash</code></strong> first looks in in the application check format folder (typically <code class="filename">/usr/share/gnucash/checks</code>) for the image file, and if it isn’t found there then it looks in the user private <code class="filename">~/.gnucash/checks</code> directory for the image.  This field is only recognized when using gtk version 2.10 or later.</td></tr><tr><td>Blocking_Chars_<span class="emphasis"><strong>n</strong></span></td><td>boolean</td><td>optional</td><td>If supplied, this will set the print <span class="emphasis"><strong>Blocking_Chars</strong></span> option for this item.</td></tr><tr><td>DateFormat_<span class="emphasis"><strong>n</strong></span></td><td>boolean</td><td>optional</td><td>If supplied, this will set the print <span class="emphasis"><strong>DateFormat</strong></span> option for this item.</td></tr></tbody></table></div></div><br class="table-break"><p>These are the individual items that can be printed on a check.  All items require the coordinates on the page where the item should be printed.  The majority of these items result in text being printed on the page, and these items may have individual font and alignments specified.  For example, the numerical amount of a check could be printed right justified while everything else is printed left justified.  Other types may have unique parameters.</p><div class="table"><a name="check_table_types"></a><p class="title"><b>Table D.4. Individual Check Item Types</b></p><div class="table-contents"><table summary="Individual Check Item Types" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Name</th><th>Required Fields</th><th>Optional Fields</th><th>Description</th></tr></thead><tbody><tr><td>PAYEE</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the check payee name at the specified coordinates.</td></tr><tr><td>DATE</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
DateFormat<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the check date at the specified coordinates.</td></tr><tr><td>NOTES</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the transaction notes field at the specified coordinates.</td></tr><tr><td>CHECK_NUMBER</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the check number at the specified coordinates.</td></tr><tr><td>MEMO</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the split memo field at the specified coordinates.</td></tr><tr><td>ACTION</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the split action field at the specified coordinates.</td></tr><tr><td>AMOUNT_WORDS</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the check amount in words at the specified coordinates.  The amount will appear similar to the string "One thousand, two hundred thirty four and 56/100".</td></tr><tr><td>AMOUNT_NUMBER</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the check amount in numbers at the specified coordinates.  The amount will appear similar to the number "$1,234.56".</td></tr><tr><td>ADDRESS</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the address at the specified coordinates.</td></tr><tr><td>SPLITS_ACCOUNT</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the account names for each split entry stating at the specified coordinates. See the note on splits printing.</td></tr><tr><td>SPLITS_AMOUNT</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the amount for each split entry stating at the specified coordinates.  Amounts are printed with currency symbols. See the note on splits printing.</td></tr><tr><td>SPLITS_MEMO</td><td>Coords</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print the memo text for each split entry stating at the specified coordinates. See the note on splits printing.</td></tr><tr><td>TEXT</td><td>Coords, Text</td><td>
                    <div class="literallayout"><p>Font<br>
Align<br>
Blocking_Chars<br>
                    </p></div>
                  </td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print an arbitrary string at the specified coordinates. The string to be printed is specified with the <span class="emphasis"><strong>Text_n</strong></span> key.</td></tr><tr><td>PICTURE</td><td>Coords, Filename</td><td>(none)</td><td>This type value tells <strong class="application"><code>GnuCash</code></strong> to print an image at the specified coordinates. The image to be printed is specified with the <span class="emphasis"><strong>Filename_n</strong></span> key.  This type is only recognized when using gtk version 2.10 or later.</td></tr></tbody></table></div></div><br class="table-break"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">SPLIT items include all split entries for the transaction except for the split that applies to the current account register.  This is usually the last split listed when splits are displayed in the register.  The coordinate location defines the lower left location for the split information.</p></td></tr></table></div></div></div><div class="sect2" title="D.1.4. Creating Check Format Files"><div class="titlepage"><div><div><h3 class="title"><a name="check_format_notes"></a>D.1.4. Creating Check Format Files</h3></div></div></div><p>Creating your own check format file is a fairly simple task.  The easiest way to start is to copy an existing check format file from the application directory (typically <code class="filename">/usr/share/gnucash/checks</code>) to the directory <code class="filename">~/.gnucash/checks</code>.  Make sure to change the guid so the new file will be accepted by gnucash, and change the title to something descriptive.  Then change or add individual item fields as necessary.  You can also create a new check file by clicking the <span class="guibutton">Save Format</span> button on the <span class="guilabel"><strong>Custom format</strong></span> page of the check printing dialog.</p><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">Key names are case sensitive.  If you’re having problems with a check format file, ensure that all key names have capital letters as documented above.</p></td></tr></table></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appendixd.html">&lt;&lt;&lt; Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="fdl.html">Next &gt;&gt;&gt;</a></td></tr><tr><td width="40%" align="left">Appendix D. Auxiliary File Formats </td><td width="20%" align="center"><a accesskey="u" href="appendixd.html">Up</a></td><td width="40%" align="right"> Appendix E. GNU Free Documentation License</td></tr></table></div></body></html>
